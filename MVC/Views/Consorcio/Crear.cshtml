@model Entities.EDMX.Consorcio

@{
    ViewBag.Title = "Crear";
}

<style>
    .form-group div, .form-group label {
        padding-left: 0;
        padding-right: 0;
    }

    input, select {
        max-width: none;
    }
</style>


<script>
    function crearUnidades() {
        document.getElementById("otraAccion").value = "crearUnidades";
    }
    function crearOtro() {
        document.getElementById("otraAccion").value = "crearOtro";
    }
</script>

@if (TempData["Creado"] != null && (bool)TempData["Creado"] == true)
{
    <h6 class="bg-success p-4 text-light text-center mb-3">
        Creado correctamente!
    </h6>
}

@if (TempData["Creado"] != null && (bool)TempData["Creado"] == false)
{
    <h6 class="bg-danger p-4 text-light text-center mb-3">
        Error al crear!
        @ViewBag.Error
    </h6>
}

<h2>Crear Consorcio</h2>

@Html.AntiForgeryToken()

<div class="form-horizontal">
    <p>A continuación ingrese los datos del consorcio nuevo</p>
    <hr />

    <form action="/Consorcio/Crear" method="post">

        <div class="form-group">
            <label>Nombre *</label>
            <div class="col-lg-6 col-md-12">
                <input type="text" name="Nombre" value="" class="form-control" />
                @Html.ValidationMessageFor(model => model.Nombre)
            </div>
        </div>

        <div class="form-group">
            <label>Provincia *</label>
            <select name="IdProvincia" class="form-control col-lg-6 col-md-12">
                <option value=""></option>
                @* @foreach (var item in Model)
                    {
                        <option value="@item.IdProvincia">
                            @item.Nombre
                        </option>
                    }*@
            </select>
        </div>

        <div class="form-group">
            <label>Ciudad *</label>
            <div class="col-lg-6 col-md-12">
                <input type="text" name="Ciudad" value="" class="form-control" />
            </div>
            <p class="danger-color">
                @Html.ValidationMessageFor(model => model.Ciudad)
            </p>
        </div>

        <div class="form-group">
            <label>Calle *</label>
            <div class="col-lg-6 col-md-12">
                <input type="text" name="Calle" value="" class="form-control" />
            </div>
        </div>

        <div class="form-group">
            <label>Altura *</label>
            <div class="col-lg-6 col-md-12">
                <input type="text" name="Altura" value="" class="form-control" />
            </div>
        </div>

        <div class="form-group">
            <label>Dia de vencimiento de expensas *</label>
            <div class="col-lg-6 col-md-12">
                <input type="text" name="DiaVencimientoExensas" value="" class="form-control" />
            </div>
        </div>

        <div class="form-group">
            <input type="hidden" id="otraAccion" name="otraAccion" value="" class="form-control" />
        </div>

        <div class="form-group mt-4">
            <div class="col-md-offset-2 col-md-10 px-0">
                <input type="submit" value="Guardar" class="btn btn-success ml-0 mr-2" />

                <input onclick="crearOtro()" type="submit" value="Guardar y Crear otro Consorcio" class="btn btn-primary ml-0 mr-2" />

                <input onclick="crearUnidades()" type="submit" value="Guardar y Crear Unidades" class="btn btn-primary ml-0 mr-2" />

                @Html.ActionLink("Cancelar", "Listado", null, new { @class = "btn btn-danger ml-0 mr-2" })
            </div>
        </div>

    </form>

</div>

@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/jqueryval")

