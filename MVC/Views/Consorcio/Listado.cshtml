@model List<Entities.EDMX.Consorcio>

@{
    ViewBag.Title = "Listado";
}

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item">
            <a href="/@ViewContext.RouteData.Values["controller"].ToString()/@ViewContext.RouteData.Values["action"].ToString()">
                Mis @ViewContext.RouteData.Values["controller"].ToString()s
            </a>
        </li>
        <li class="breadcrumb-item">@ViewContext.RouteData.Values["action"].ToString()</li>
    </ol>
</nav>


@if (TempData["Creado"] != null && (bool)TempData["Creado"] == true)
{
    <div class="alert alert-success alert-dismissible fade show text-center" role="alert">
        ¡Consorcio <strong>creado correctamente!</strong>
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
}

@if (TempData["Modificado"] != null && (bool)TempData["Modificado"] == true)
{
    <div class="alert alert-primary alert-dismissible fade show text-center" role="alert">
        ¡Consorcio <strong>modificado correctamente!</strong>
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
}

@if (TempData["Eliminado"] != null && (bool)TempData["Eliminado"] == true)
{
    <div class="alert alert-primary alert-dismissible fade show text-center" role="alert">
        ¡Consorcio <strong>eliminado correctamente!</strong>
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
}

<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center">

    <h2>Listado de Mis Consorcios</h2>

    @Html.ActionLink("Crear Consorcio", "Crear", null, new { @class = "btn btn-success" })

</div>

<p>A continuación se muestra la lista de todos sus consorcios</p>
<hr class="mb-5" />

<section class="table-responsive mb-5">

    <table class="table table-bordered table-hover">
        <tr class="bg-light">
            <th>Nombre</th>
            <th>Provincia</th>
            <th>Ciudad</th>
            <th>Unidades</th>
            <th>Expensas</th>
            <th>Gastos</th>
            <th>Acción</th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @item.Nombre
                </td>
                <td>
                    @item.Provincia.Nombre
                </td>
                <td>
                    @item.Ciudad
                </td>
                <td>
                    @Html.ActionLink("Ver Unidades", "Unidades", new { id = item.IdConsorcio }, new { @class = "" })
                </td>
                <td>
                    @Html.ActionLink("Ver Expensas", "Expensas", new { id = item.IdConsorcio }, new { @class = "" })
                </td>
                <td>
                    @Html.ActionLink("Ver Gastos", "Gastos", new { id = item.IdConsorcio }, new { @class = "" })
                </td>
                <td>
                    @Html.ActionLink("Modificar", "Modificar", new { id = item.IdConsorcio }, new { @class = "btn btn-primary" })

                    @Html.ActionLink("Eliminar", "Eliminar", new { id = item.IdConsorcio }, new { @class = "btn btn-danger" })

                </td>
            </tr>
        }

    </table>

</section>


