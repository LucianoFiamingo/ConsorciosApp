@model List<Entities.EDMX.Gasto>

@{
    ViewBag.Title = "Listado de gastos";
}


<link href="~/Content/Tables/jquery.dataTables.min.css" rel="stylesheet" />

<section>
    @if (TempData["Creado"] != null && (string)TempData["Creado"] != "FALSO")
    {
        <div class="alert alert-success alert-dismissible fade show text-center" role="alert">
            ¡Consorcio <strong>@TempData["Creado"].ToString()</strong> creado correctamente!
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    }

    @if (TempData["Modificado"] != null && (string)TempData["Modificado"] != "FALSO")
    {
        <div class="alert alert-primary alert-dismissible fade show text-center" role="alert">
            ¡Consorcio <strong>@TempData["Modificado"].ToString()</strong> modificado correctamente!
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    }

</section>
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center">

    <h2>Listado de Mis Gastos</h2>

        @Html.ActionLink("Crear Gasto", "Crear",null, new { @class = "btn btn-success" })
    
    </div>

<p>A continuación se muestra la lista de todos sus consorcios</p>

<hr class="mb-5" />

<section class="table-responsive mb-5">

    <table class="table table-bordered table-hover">
        <tr class="bg-light">
            <th>Año</th>
            <th>Mes</th>
            <th>Nombre</th>
            <th>Tipo Gasto</th>
            <th>Fecha</th>
            <th>Monto($)</th>
            <th>Comprobante</th>
            <th>Eliminar</th>

        </tr>

        @foreach (var item in Model)
        {
            

    <tr class="@(TempData["VerGasto"] != null && item.IdGasto == (int)TempData["VerGasto"] ? "colorear table-success" : null)">
        <td>
            @item.AnioExpensa
        </td>
        <td>
            @item.MesExpensa
        </td>
        <td>
            @Html.ActionLink(item.Nombre, "Modificar", new { id = item.IdConsorcio }, null)
        </td>
        <td>
            @item.TipoGasto.Nombre
        </td>
        <td>
            @item.FechaGasto
        </td>
        <td>
            @item.Monto
        </td>
        <td>
            @Html.ActionLink("Descargar Comprobante", "DescargarComprobante", new { id = item.IdConsorcio }, new { @class = "btn btn-info" })
        </td>
        <td>
            @Html.ActionLink("Eliminar", "Eliminar", new { id = item.IdGasto}, new { @class = "btn btn-danger" })
        </td>


    </tr>
        }

    </table>

</section>


